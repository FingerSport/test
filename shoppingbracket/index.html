<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<title>shopping basket</title>
	<link rel="stylesheet" href="style.css">
	<script src="../vue.min.js"></script>
</head>
<body>
	<!-- 建立空盒子div -->
	<div id="app" v-cloak>
		<template v-if="list.length">
		<table>
			<thead>
			<tr>
			<th></th>
			<th>商品名称</th>
			<th>商品单价</th>
			<th>购买数量</th>
			<th>操作</th>
			</tr>
			</thead>
			<tbody>
				<tr v-for="(item,index) in list">
					<td>{{index+1}}</td>
					<td>{{item.name}}</td>
					<td>{{item.price}}</td>
					<td>
						<button  @click="handleReduce(index)" :disable="item.count===1" >-</button>
						{{item.count}}
						<button  @click="handleAdd(index)"  >+</button>
					</td>
					<td>
						<button  @click="handleRemove(index)" >移除</button>
					</td>
				</tr>
			</tbody>
		</table>
		<div>总价：￥{{totalPrice}}</div>
		</template>
		<div v-else>购物车为空</div>
	</div>
<!--  VUE  test- -->
<div id="todo-list-example">
  <input
    v-model="newTodoText"
    v-on:keyup.enter="addNewTodo"
    placeholder="Add a todo"
  >
  <ul>
    <li
      is="todo-item"
      v-for="(todo, index) in todos"
      v-bind:key="todo.id"
      v-bind:title="todo.title"
      v-on:remove="todos.splice(index, 1)";
    > 
    </li>
  </ul>
</div>

<script  type="text/javascript" charset="utf-8" async defer>

Vue.component('todo-item', {
  template: '<li> {{ title }} <button v-on:click="$emit('remove')">X</button> </li>',
  props: ['title']
})

new Vue({
  el: '#todo-list-example',
  data: {
    newTodoText: '',
    todos: [
      {
        id: 1,
        title: 'Do the dishes',
      },
      {
        id: 2,
        title: 'Take out the trash',
      },
      {
        id: 3,
        title: 'Mow the lawn'
      }
    ],
    nextTodoId: 4
  },
  methods: {
    addNewTodo: function () {
      this.todos.push({
        id: this.nextTodoId++,
        title: this.newTodoText
      })
      this.newTodoText = ''
    }
  }
})


</script>



<script src="index.js" type="text/javascript" charset="utf-8" ></script>

</body>
</html>